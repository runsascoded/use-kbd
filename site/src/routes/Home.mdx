import { ShortcutsModal } from 'use-kbd'
import { FaGithub } from 'react-icons/fa'
import { DemoThumbnail } from '../components/DemoThumbnail'
import { DemoTitle } from '../components/DemoTitle'
import {
  ShortcutsModal as ShortcutsModalLink,
  Omnibar as OmnibarLink,
  LookupModal as LookupModalLink,
  SequenceModal as SequenceModalLink,
  ActionLink as ActionLinkLink,
  UseAction as UseActionLink,
} from '../components/GithubLinks'
import { Kbd, KbdModal, KbdOmnibar, KbdLookup, KbdSequence } from '../components/Kbd'
import { Command, Ctrl, Option, Shift } from '../components/ModifierIconsWithTooltips'
import { QuickStartCode } from './quickStartCode'
import { Tooltip } from '../components/Tooltip'

# use-kbd

[![npm version](https://img.shields.io/npm/v/use-kbd.svg)](https://www.npmjs.com/package/use-kbd)

Keyboard shortcuts, navigation, omnibar for React apps.

Try them on this page:

<table className="components-table">
  <thead>
    <tr>
      <th>Keys</th>
      <th><Tooltip title="View source on GitHub"><FaGithub size={20} /></Tooltip></th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr><td><KbdModal /></td><td><ShortcutsModalLink /></td><td>View/Edit key-bindings</td></tr>
    <tr><td><KbdOmnibar /></td><td><OmnibarLink /></td><td>Search and select actions</td></tr>
    <tr><td><KbdLookup /></td><td><LookupModalLink /></td><td>Look up actions by key-binding</td></tr>
    <tr><td><KbdSequence keys="g" /></td><td><SequenceModalLink /></td><td>View completions for a key-sequence</td></tr>
  </tbody>
</table>

or view source [on GitHub][`site`].

## Quick Start

```bash
npm install use-kbd  # or: pnpm add use-kbd
```

<QuickStartCode />

### Basic steps

1. **Drop-in UI components**:
    - <ShortcutsModalLink />: view/edit key-bindings <KbdModal />
    - <OmnibarLink />: search and select actions <KbdOmnibar />
    - <LookupModalLink />: look up actions by key-binding <KbdLookup />
    - <SequenceModalLink />: autocomplete multi-key sequences
    - <ActionLinkLink />: register links as actions
2. **Register functions as "actions"** with <UseActionLink />
3. **Easy theming** with CSS variables

## Demos

Toy apps demonstrating various features of `use-kbd`:

<div className="demos-list">
    <div className="demo-item">
        <DemoThumbnail demo="table" />
        <div className="demo-content">
            <DemoTitle to="/table" source="TableDemo.tsx">Data Table</DemoTitle>
            <p>Sortable, paginated table with row selection (inspired by [Superhuman]).</p>
            <ul>
                <li><strong>Custom renderers in modal</strong>: two-column layout for fwd/back shortcuts</li>
                <li><strong>Modifier key examples</strong>: <Ctrl/><Shift/><Option/><Command/></li>
            </ul>
        </div>
    </div>
    <div className="demo-item">
        <DemoThumbnail demo="canvas" />
        <div className="demo-content">
            <DemoTitle to="/canvas" source="CanvasDemo.tsx">Canvas</DemoTitle>
            <p>Drawing app with tools and color palette.</p>
            <ul>
                <li><strong>Single-key shortcuts</strong> for tools, colors, undo/redo</li>
                <li><strong>Single binding per action</strong>: no "+" or "×" clutter</li>
            </ul>
        </div>
    </div>
    <div className="demo-item">
        <DemoThumbnail demo="calendar" />
        <div className="demo-content">
            <DemoTitle to="/calendar" source="CalendarDemo.tsx">Calendar</DemoTitle>
            <p>Month/week/day views with event management.</p>
            <ul>
                <li><strong>Multiple bindings per action</strong>: arrow keys + Vim-style HJKL</li>
                <li><strong>Sequence shortcuts</strong>: `g m` for month, `g w` for week, `g d` for day, etc.</li>
                <li><strong>Custom remove-button styling</strong>: inline animated "×"</li>
            </ul>
        </div>
    </div>
</div>

### Live Examples

See this library in action at:
- [ctbk.dev]
- [awair.runsascoded.com]

## Inspiration

- macOS and GDrive menu search
- [Superhuman] omnibar
- [Vimium] keyboard-driven browsing
- Android searchable settings

[`site`]: https://github.com/runsascoded/use-kbd/tree/main/site/#readme
[Superhuman]: https://superhuman.com
[Vimium]: https://github.com/philc/vimium
[ctbk.dev]: https://ctbk.dev
[awair.runsascoded.com]: https://awair.runsascoded.com

<ShortcutsModal editable groupOrder={['Global', 'Navigation']} />
